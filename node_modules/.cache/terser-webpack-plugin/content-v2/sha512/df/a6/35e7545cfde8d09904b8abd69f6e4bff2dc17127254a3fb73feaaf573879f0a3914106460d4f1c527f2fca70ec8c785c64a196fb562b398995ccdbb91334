{"map":"{\"version\":3,\"sources\":[\"/home/spiced/spiced/sampler2/Sampler/src/reducers/samplerReducer.js\",\"/home/spiced/spiced/sampler2/Sampler/src/reducers/types.js\",\"/home/spiced/spiced/sampler2/Sampler/src/contexts/Config/AudioInitialState.js\",\"/home/spiced/spiced/sampler2/Sampler/src/contexts/SamplerContext.js\",\"/home/spiced/spiced/sampler2/Sampler/src/Config/ColorScheme.js\",\"/home/spiced/spiced/sampler2/Sampler/src/actions/index.js\",\"/home/spiced/spiced/sampler2/Sampler/src/Config/keyboardControls.js\",\"/home/spiced/spiced/sampler2/Sampler/src/components/WorkerNotify/WorkerNotify.js\",\"/home/spiced/spiced/sampler2/Sampler/src/components/StartScreen/StartScreen.js\",\"/home/spiced/spiced/sampler2/Sampler/src/contexts/Config/PadGrid.js\",\"/home/spiced/spiced/sampler2/Sampler/src/components/WaveformDisplay/WaveformDisplay.js\",\"/home/spiced/spiced/sampler2/Sampler/src/Config/midiMap.js\",\"/home/spiced/spiced/sampler2/Sampler/src/components/MidiControls/MidiControls.js\",\"/home/spiced/spiced/sampler2/Sampler/src/components/Controls/Controls.js\",\"/home/spiced/spiced/sampler2/Sampler/src/components/Hud/Hud.js\",\"/home/spiced/spiced/sampler2/Sampler/src/components/PadEditorItem/EditorItemRange.js\",\"/home/spiced/spiced/sampler2/Sampler/src/components/PadEditorItem/EditorItemButtons.js\",\"/home/spiced/spiced/sampler2/Sampler/src/components/PadEditorItem/EditorItemButton.js\",\"/home/spiced/spiced/sampler2/Sampler/src/components/PadEditorItem/RecordButton.js\",\"/home/spiced/spiced/sampler2/Sampler/src/components/PadEditorItem/MonitorButton.js\",\"/home/spiced/spiced/sampler2/Sampler/src/components/ColorSelector/ColorSelector.js\",\"/home/spiced/spiced/sampler2/Sampler/src/components/PadEditor/PadEditor.js\",\"/home/spiced/spiced/sampler2/Sampler/src/Config/touchControls.js\",\"/home/spiced/spiced/sampler2/Sampler/src/components/Pad/Pad.js\",\"/home/spiced/spiced/sampler2/Sampler/src/components/SamplerGrid/SamplerGrid.js\",\"/home/spiced/spiced/sampler2/Sampler/src/index.js\",\"/home/spiced/spiced/sampler2/Sampler/src/components/App/App.js\"],\"names\":[\"samplerReducer\",\"state\",\"_ref\",\"type\",\"payload\",\"Object\",\"objectSpread\",\"AudioInitialState\",\"touchEnabled\",\"midiEnabled\",\"midiInputs\",\"midiChannel\",\"ctx\",\"numPads\",\"banks\",\"currentbank\",\"gridPadsArr\",\"editMode\",\"sources\",\"selectedPad\",\"analyser\",\"recMode\",\"isRecording\",\"isMonitoring\",\"recorder\",\"monitor\",\"Context\",\"React\",\"createContext\",\"ColorScheme\",\"gray\",\"white\",\"black\",\"brown\",\"green\",\"red\",\"yellow\",\"purple\",\"blue\",\"lightblue\",\"lightorange\",\"orange\",\"setCTX\",\"asyncToGenerator\",\"regenerator_default\",\"a\",\"mark\",\"_callee\",\"context\",\"wrap\",\"_context\",\"prev\",\"next\",\"window\",\"AudioContext\",\"webkitAudioContext\",\"createAnalyser\",\"stop\",\"_x\",\"apply\",\"this\",\"arguments\",\"connect\",\"destination\",\"dispatch\",\"updateSources\",\"file\",\"reader\",\"FileReader\",\"onload\",\"e\",\"decodeAudioData\",\"target\",\"result\",\"buffer\",\"name\",\"split\",\"waveformData\",\"getChannelData\",\"isPlaying\",\"newSource\",\"createBufferSource\",\"source\",\"start\",\"sampleEnd\",\"duration\",\"gainNode\",\"createGain\",\"readAsArrayBuffer\",\"handlePadTrigger\",\"padId\",\"velocity\",\"length\",\"undefined\",\"selectedSource\",\"selfMuted\",\"detune\",\"value\",\"currentGain\",\"Math\",\"pow\",\"gain\",\"setValueAtTime\",\"currentTime\",\"sampleStart\",\"updateEditorData\",\"_ref2\",\"cmd\",\"val\",\"newPadsArr\",\"Number\",\"handlePadStop\",\"color\",\"Colors\",\"keyboardControls\",\"49\",\"hold\",\"50\",\"51\",\"52\",\"81\",\"87\",\"69\",\"82\",\"65\",\"83\",\"68\",\"70\",\"90\",\"88\",\"67\",\"86\",\"WorkerNotify\",\"_useState\",\"useState\",\"_useState2\",\"slicedToArray\",\"prompt\",\"setPrompt\",\"useEffect\",\"navigator\",\"addEventListener\",\"preventDefault\",\"installClickHandler\",\"userChoice\",\"then\",\"res\",\"outcome\",\"react_default\",\"createElement\",\"Fragment\",\"className\",\"onClick\",\"StartScreen_StartScreen\",\"useContext\",\"style\",\"backgroundColor\",\"padding\",\"matchMedia\",\"matches\",\"components_WorkerNotify_WorkerNotify\",\"listStyle\",\"href\",\"fontSize\",\"GridPad\",\"id\",\"classCallCheck\",\"isLoaded\",\"concat\",\"midiCC\",\"midiNote\",\"WaveformDisplay\",\"canvasRef\",\"useRef\",\"canvas\",\"current\",\"c\",\"getContext\",\"clearRect\",\"width\",\"height\",\"sourceAvailable\",\"data\",\"step\",\"ceil\",\"amp\",\"fillStyle\",\"i\",\"min\",\"max\",\"j\",\"datum\",\"fillRect\",\"draw\",\"ref\",\"position\",\"left\",\"draggable\",\"top\",\"margin\",\"midiMap\",\"5\",\"cc\",\"6\",\"7\",\"8\",\"36\",\"note\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"MidiControls\",\"props\",\"setMidiInputs\",\"requestMIDIAccess\",\"access\",\"inputs\",\"entries\",\"onstatechange\",\"console\",\"log\",\"port\",\"manufacturer\",\"filteredInputs\",\"filter\",\"input\",\"catch\",\"err\",\"forEach\",\"onmidimessage\",\"round\",\"end\",\"map\",\"key\",\"role\",\"aria-label\",\"Controls\",\"currentPad\",\"toggleRecMode\",\"renderFileUpload\",\"document\",\"getElementById\",\"click\",\"openFileSelector\",\"display\",\"onChange\",\"ext\",\"test\",\"error\",\"validateSelectedFile\",\"files\",\"accept\",\"multiple\",\"toggleEditMode\",\"editToggleText\",\"toConsumableArray\",\"clearSelectedPad\",\"renderRecButton\",\"renderMidiControls\",\"Hud_Hud\",\"components_Controls_Controls\",\"background\",\"textAlign\",\"border\",\"gridTemplateRows\",\"gridTemplateColumns\",\"justifyContent\",\"EditorItemRange\",\"htmlFor\",\"label\",\"toUpperCase\",\"floor\",\"EditorItemButtons\",\"cmd1\",\"cmd2\",\"content1\",\"content2\",\"val1\",\"val2\",\"EditorItemButton\",\"content\",\"recordedChunks\",\"RecordButton\",\"toggleIsRecording\",\"disconnect\",\"mediaDevices\",\"getUserMedia\",\"audio\",\"video\",\"stream\",\"monitorStream\",\"clone\",\"monSource\",\"createMediaStreamSource\",\"recSource\",\"recDestination\",\"createMediaStreamDestination\",\"MediaRecorder\",\"onstop\",\"recordedBlob\",\"Blob\",\"getAudioTracks\",\"track\",\"ondataavailable\",\"push\",\"MonitorButton\",\"toggleDirectMonitor\",\"ColorSelector\",\"currentTarget\",\"selectedOptions\",\"keys\",\"PadEditor_PadEditor\",\"touchControls\",\"0\",\"1\",\"2\",\"3\",\"4\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"Pad_Pad\",\"transition\",\"onDoubleClick\",\"onTouchStart\",\"touchCTRL\",\"onTouchEnd\",\"SamplerGrid\",\"gridArr\",\"generateGrid\",\"newPad\",\"item\",\"renderPad\",\"ReactDOM\",\"render\",\"_useReducer\",\"useReducer\",\"updateEditorReducer\",\"INITIAL_STATE\",\"_useReducer2\",\"Provider\",\"children\",\"src\",\"frameborder\",\"allow\",\"seamless\",\"onKeyDown\",\"stopPropagation\",\"keyTrigger\",\"keyCTRL\",\"which\",\"repeat\",\"handleKeyDown\",\"onKeyUp\",\"handleKeyUp\",\"tabIndex\",\"components_SamplerGrid_SamplerGrid\"],\"mappings\":\"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\",\"sourcesContent\":[\"import * as types from './types'\\n\\n\\nexport default (state, {type, payload}) => {\\n    switch(type){\\n        case types.UPDATE_EDITOR_DATA:\\n            return {...state, ...payload}\\n        case types.CLEAR_SELECTED_PAD:\\n            return {...state, ...payload}\\n        case types.HANDLE_PAD_STOP:\\n            return {...state, ...payload}\\n        case types.UPDATE_SOURCES:\\n            return {...state, ...payload}\\n        case types.HANDLE_PAD_TRIGGER:\\n            return {...state, ...payload}\\n        case types.TOGGLE_EDIT_MODE: \\n            return {...state, ...payload}\\n        case types.TOGGLE_IS_RECORDING:\\n            return {...state, ...payload}\\n        case types.TOGGLE_DIRECT_MONITOR:\\n            return {...state, ...payload}\\n        case types.GENERATE_GRID:\\n            return {...state, ...payload}\\n        case types.SET_MIDI_INPUTS:\\n            return {...state, ...payload}\\n        case types.CREATE_ANALYSER:\\n            return {...state, ...payload}\\n        default:\\n            return state\\n    }\\n}\",\"export const GENERATE_GRID = \\\"GENERATE_GRID\\\"\\nexport const CREATE_ANALYSER = \\\"CREATE_ANALYSER\\\"\\nexport const SET_MIDI_INPUTS = \\\"SET_MIDI_INPUTS\\\"\\nexport const TOGGLE_REC_MODE = \\\"TOGGLE_REC_MODE\\\"\\nexport const TOGGLE_EDIT_MODE = \\\"TOGGLE_REC_MODE\\\"\\nexport const UPDATE_SOURCES = \\\"UPDATE_SOURCES\\\"\\nexport const HANDLE_PAD_TRIGGER = \\\"HANDLE_PAD_TRIGGER\\\"\\nexport const HANDLE_PAD_STOP = \\\"HANDLE_PAD_STOP\\\"\\nexport const CLEAR_SELECTED_PAD = \\\"CLEAR_SELECTED_PAD\\\"\\nexport const UPDATE_EDITOR_DATA = \\\"UPDATE_EDITOR_DATA\\\"\\nexport const TOGGLE_IS_RECORDING = \\\"TOGGLE_IS_RECORDING\\\"\\nexport const TOGGLE_DIRECT_MONITOR = \\\"TOGGLE_DIRECT_MONITOR\\\"\",\"export default {\\n    touchEnabled: false,\\n    midiEnabled: false,\\n    midiInputs: null,\\n    midiChannel: 10,\\n    ctx: null,\\n    numPads: 8,\\n    banks: 4,\\n    currentbank: 1,\\n    gridPadsArr: [],\\n    editMode: false,\\n    sources: {},\\n    selectedPad: 0,\\n    analyser: null,\\n    recMode: false,\\n    isRecording: false,\\n    isMonitoring: true,\\n    recorder: null,\\n    monitor: null\\n}\\n\",\"import React, {useReducer} from 'react';\\nimport updateEditorReducer from '../reducers/samplerReducer';\\nimport INITIAL_STATE from './Config/AudioInitialState';\\n\\nexport const Context = React.createContext();\\n\\nexport function SamplerContextStore(props) {\\n    const [state, dispatch] = useReducer(updateEditorReducer, INITIAL_STATE)\\n    return <Context.Provider value={{\\n        ...state,\\n        dispatch,\\n    }}>{props.children}\\n    </Context.Provider>\\n}\",\"export default {\\n    gray: \\\"#8E8D92\\\",\\n    white: \\\"#F2EDEA\\\",\\n    black: \\\"#8091A3\\\",\\n    brown: \\\"#593E2F\\\",\\n    green: \\\"#0BAB76\\\",\\n    red: \\\"#F5627A\\\",\\n    yellow: \\\"#FFAA00\\\",\\n    purple: \\\"#EF7782\\\",\\n    blue: \\\"#3c3e42\\\",\\n    lightblue: \\\"#38A8CE\\\",\\n    lightorange: \\\"#FF6000\\\",\\n    orange: \\\"#FF3800\\\"\\n}\\n\",\"import * as types from '../reducers/types'\\nimport Colors from '../Config/ColorScheme';\\n\\nexport const setCTX = async (context) => {\\n    let ctx = !context.ctx ? new (window.AudioContext || window.webkitAudioContext)() : null;\\n    createAnalyser(context, ctx)\\n}\\nexport const createAnalyser = (context, ctx) =>{\\n    let analyser = ctx.createAnalyser();\\n    analyser.connect(ctx.destination);\\n    context.dispatch({type: types.CREATE_ANALYSER, payload: {ctx, analyser}})\\n}\\n\\nexport const updateSources = (context, file) => {\\n    let reader = new FileReader();\\n    reader.onload = e => {\\n        context.ctx.decodeAudioData(e.target.result, (buffer) => {\\n            let sources = {...context.sources}\\n            let name = file.name.split('.')[0]\\n            let waveformData = buffer.getChannelData(0)\\n            sources[context.selectedPad] = {buffer: buffer, name, isPlaying: false, waveformData}\\n            let gridPadsArr = context.gridPadsArr;\\n            let newSource = context.ctx.createBufferSource();\\n            newSource.buffer = buffer;\\n            gridPadsArr[context.selectedPad].source = newSource;\\n            gridPadsArr[context.selectedPad].source.start()\\n            gridPadsArr[context.selectedPad].sampleEnd = buffer.duration;\\n            gridPadsArr[context.selectedPad].gainNode = context.ctx.createGain();\\n            gridPadsArr[context.selectedPad].gainNode.connect(context.ctx.destination);\\n            context.dispatch({type: types.UPDATE_SOURCES, payload: {sources, gridPadsArr}});\\n        })\\n    }\\n    reader.readAsArrayBuffer(file);\\n}\\n\\nexport const handlePadTrigger = (context, padId, velocity = 127) => {\\n    let selectedSource =  context.sources[padId];\\n    let selectedPad = padId\\n    if(selectedSource && selectedSource.buffer){\\n        if(context.gridPadsArr[padId].source && context.gridPadsArr[padId].selfMuted){\\n            context.gridPadsArr[padId].source.stop();\\n        }\\n        let gridPadsArr = context.gridPadsArr;\\n        let newSource = context.ctx.createBufferSource();\\n        newSource.buffer = context.sources[padId].buffer;\\n        gridPadsArr[padId].source = newSource;\\n        gridPadsArr[padId].isPlaying = true;\\n        if(context.selectedPad !== padId){\\n            context.dispatch({type: types.HANDLE_PAD_TRIGGER, payload: {gridPadsArr, selectedPad}});\\n        }\\n        newSource.connect(context.gridPadsArr[padId].gainNode);\\n        newSource.detune.value = context.gridPadsArr[padId].detune;\\n        let currentGain = velocity !== 127 ? Math.pow(velocity, 2) / Math.pow(127, 2) : context.gridPadsArr[padId].currentGain;\\n        context.gridPadsArr[padId].gainNode.gain.setValueAtTime(currentGain, context.ctx.currentTime)\\n        context.gridPadsArr[padId].source.start(context.ctx.currentTime, context.gridPadsArr[padId].sampleStart , context.gridPadsArr[padId].sampleEnd);\\n        context.gridPadsArr[padId].source.stop(context.ctx.currentTime + context.gridPadsArr[padId].sampleEnd);\\n    } else {\\n        if(context.selectedPad !== padId){\\n            context.dispatch({type: types.HANDLE_PAD_TRIGGER, payload: {selectedPad}});\\n        }\\n    }\\n}\\n\\nexport const handlePadStop = (context, padId, gridPadsArr) => {\\n    if(context.gridPadsArr[padId].source && context.gridPadsArr[padId].selfMuted){\\n        context.gridPadsArr[padId].source.stop();\\n        context.gridPadsArr[padId].isPlaying = false\\n        context.dispatch({type: types.HANDLE_PAD_STOP, payload: {gridPadsArr}});\\n    }\\n}\\n\\nexport const updateEditorData = ({context, cmd, val}) => {\\n    let newPadsArr = context.gridPadsArr;\\n    let selectedPad = context.selectedPad;\\n    if(cmd === \\\"start\\\"){\\n        if(val >= newPadsArr[context.selectedPad].sampleEnd) return;\\n        newPadsArr[context.selectedPad].sampleStart = Number(val);\\n    }\\n    if(cmd === \\\"end\\\"){\\n        if(val <= newPadsArr[context.selectedPad].sampleStart) return;\\n        newPadsArr[context.selectedPad].sampleEnd = Number(val);\\n    }\\n    if(cmd === \\\"gain\\\"){\\n        newPadsArr[context.selectedPad].currentGain = val;\\n    }\\n    if(cmd === \\\"detune\\\" && val !== \\\"Current\\\"){\\n        newPadsArr[context.selectedPad].detune = val;\\n    }\\n    if(cmd === \\\"prev\\\"){\\n        selectedPad = context.selectedPad + val < 0 ? context.gridPadsArr.length - 1 : context.selectedPad + val;\\n    }\\n    if(cmd === \\\"next\\\"){\\n        selectedPad = context.selectedPad + val > context.gridPadsArr.length - 1 ?  0 : context.selectedPad + val;\\n    }\\n    if(cmd === \\\"play\\\"){\\n        handlePadTrigger(context, context.selectedPad);\\n    }\\n    if(cmd === \\\"stop\\\"){\\n        handlePadStop(context.selectedPad, newPadsArr);\\n    }\\n    if(cmd === \\\"color\\\"){\\n        newPadsArr[context.selectedPad].color = Colors[val];\\n    }\\n    let payload = {gridPadsArr: newPadsArr, selectedPad}\\n    context.dispatch({type: types.UPDATE_EDITOR_DATA, payload });\\n}\",\"export default {\\n    49: {padId: 0, hold: false},\\n    50: {padId: 1, hold: false},\\n    51: {padId: 2, hold: false},\\n    52: {padId: 3, hold: false},\\n    81: {padId: 4, hold: false},\\n    87: {padId: 5, hold: false},\\n    69: {padId: 6, hold: false},\\n    82: {padId: 7, hold: false},\\n    65: {padId: 8, hold: false},\\n    83: {padId: 9, hold: false},\\n    68: {padId: 10, hold: false},\\n    70: {padId: 11, hold: false},\\n    90: {padId: 12, hold: false},\\n    88: {padId: 13, hold: false},\\n    67: {padId: 14, hold: false},\\n    86: {padId: 15, hold: false},\\n}\",\"import React , {useState, useEffect} from 'react'\\n\\nconst WorkerNotify = () => {\\n    const [prompt, setPrompt] = useState(null)\\n    useEffect(() => {\\n        if('serviceWorker' in navigator){\\n            window.addEventListener('beforeinstallprompt', e => {\\n                e.preventDefault()\\n                setPrompt(e)\\n            })\\n        }\\n    }, [])\\n    const installClickHandler = () => {\\n        prompt.prompt()\\n        prompt.userChoice.then(res => {\\n            if(res.outcome === \\\"accepted\\\"){\\n                setPrompt(null)\\n            }\\n        })\\n    }\\n    const renderInstallButton = () => {\\n        if(prompt){\\n            return <button \\n            className=\\\"btn\\\"\\n            onClick={installClickHandler}\\n            >USE AS APP</button>\\n        }\\n        return null\\n    }\\n    return(\\n        <>\\n            {renderInstallButton()}\\n        </>\\n    )\\n}\\n\\nexport default WorkerNotify\",\"import React, {useContext} from 'react';\\nimport {Context} from '../../contexts/SamplerContext';\\nimport {setCTX} from '../../actions'\\nimport './StartScreen.css';\\nimport Colors from '../../Config/ColorScheme';\\nimport WorkerNotify from '../WorkerNotify/WorkerNotify'\\n\\nexport default () => {\\n    const context = useContext(Context);\\n    const displayContent = () => {\\n        if(!window.AudioContext){\\n            return (\\n                <div>\\n                    <div className=\\\"start-info\\\">\\n                    <p>Sorry, Your browser doesn't support Web Audio :(</p>\\n                    </div>\\n                </div>\\n            )\\n        }\\n        return(\\n            <div>\\n                <div className=\\\"start-info\\\">\\n                    <p><strong>LOAD:</strong> WAV/MP3 files</p>\\n                    <p><strong>RECORD:</strong> from default input</p>\\n                    <p>Basic <strong>MIDI SUPPORT:</strong> on Chromium based browsers</p>\\n                    <p><strong>KEYBOARD CONTROLS:</strong></p>\\n                    <ul style={{listStyle:\\\"none\\\"}}>\\n                        <li>1 - 4</li>\\n                        <li>Q - R</li>\\n                        <li>A - F</li>\\n                        <li>Z - V</li>\\n                    </ul>\\n                    <p>New features incoming soon...</p>\\n                </div>\\n                <button \\n                className=\\\"btn\\\"\\n                onClick={() => { setCTX(context)}}\\n                >START</button>\\n            </div>\\n        )\\n    }\\n    const renderInstallButton = () => {\\n        if(!window.matchMedia('(\\\"display-mode: standalone\\\")').matches){\\n            return <WorkerNotify />\\n        }\\n        return null\\n    }\\n    return (\\n        <div className=\\\"start-wrapper\\\" style={{backgroundColor: Colors.blue, color: Colors.black}}>\\n        <div className=\\\"content-container\\\">\\n            <div style={{backgroundColor: Colors.white, padding: \\\"1vh 2vw\\\"}}>\\n            <h1>REACT SAMPLER <br/> with Web Audio API</h1>\\n            {renderInstallButton()}\\n            {displayContent()}\\n            <div>\\n                <h4>\\n                    <a \\n                    className=\\\"start-links\\\"\\n                    href=\\\"https://github.com/CannonFodderr/Sampler\\\" target=\\\"__blank\\\">Fork me on GitHub</a> Made with <span style={{color: Colors.red, fontSize: \\\"1.3rem\\\"}}>♥</span> by <a className=\\\"start-links\\\" href=\\\"https://idanprofile.herokuapp.com/profile/1/projects\\\">Idan Izhaki</a>\\n                </h4>\\n            </div>\\n            </div>\\n        </div>            \\n        </div>\\n    )\\n}\\n\",\"import Colors from '../../Config/ColorScheme';\\n\\nexport default class GridPad {\\n    constructor({id}){\\n        this.id = id;\\n        this.isLoaded = false;\\n        this.name = `Pad${id}`;\\n        this.gainNode = null;\\n        this.source = null;\\n        this.color = Colors.purple;\\n        this.isPlaying = false;\\n        this.selfMuted = true;\\n        this.sampleStart = 0;\\n        this.currentGain = 1;\\n        this.detune = 0;\\n        this.sampleEnd = this.sampleStart;\\n        this.midiCC = null;\\n        this.midiNote = null;\\n    }\\n}\",\"import React, {useContext, useRef, useEffect} from 'react';\\nimport {Context} from '../../contexts/SamplerContext';\\nimport Colors from '../../Config/ColorScheme';\\n\\nexport default () => {\\n    const context = useContext(Context);\\n    const canvasRef = useRef(null)\\n    const draw = () => {\\n        let canvas = canvasRef.current;\\n        let c = canvas.getContext('2d');\\n        c.clearRect(0, 0, canvas.width, canvas.height);\\n        let sourceAvailable = context.sources[context.selectedPad];\\n        if(!sourceAvailable || !sourceAvailable.waveformData) return;\\n        let data = sourceAvailable.waveformData;\\n        let step = Math.ceil(data.length / canvas.width);\\n        let amp = canvas.height / 2;\\n        c.fillStyle = Colors.white;\\n        for(var i=0; i < canvas.width; i++){\\n            var min = 1.0;\\n            var max = -1.0;\\n            for (var j=0; j<step; j++) {\\n                var datum = data[(i*step)+j];\\n                if (datum < min)\\n                    min = datum;\\n                if (datum > max)\\n                    max = datum;\\n            }\\n            c.fillRect(i,(1+min)*amp,1,Math.max(1,(max-min)*amp));\\n        }\\n    }\\n    useEffect(() => {\\n            draw()\\n    })\\n    let selectedSource = context.sources[context.selectedPad] ? context.sources[context.selectedPad] : 'Empty'\\n    let backgroundColor = context.isRecording ? Colors.red : Colors.blue;\\n    return <div>\\n            <canvas\\n            id=\\\"waveformDisplay\\\"\\n            ref={canvasRef}\\n            style={{backgroundColor: backgroundColor, width: \\\"100%\\\", height: \\\"9vh\\\", position: \\\"absolute\\\", left: 0}}\\n            />\\n            <h4 draggable={false} style={{position: \\\"relative\\\", top: 0, margin: \\\"1vh 0vw\\\"}} className=\\\"pad-name disable-text-select\\\">{context.selectedPad + 1} : {selectedSource.name}</h4>\\n        </div>\\n}\\n\",\"export default {\\n    5: {padId: null, cc: \\\"sampleStart\\\"},\\n    6: {padId: null, cc: \\\"sampleEnd\\\"},\\n    7: {padId: null, cc: \\\"gain\\\"},\\n    8: {padId: null, cc: \\\"detune\\\"},\\n    36: {padId: 12, cc: \\\"note\\\", note: \\\"1\\\"},\\n    37: {padId: 13, cc: \\\"note\\\", note: \\\"2\\\"},\\n    38: {padId: 14, cc: \\\"note\\\", note: \\\"3\\\"},\\n    39: {padId: 15, cc: \\\"note\\\", note: \\\"4\\\"},\\n    40: {padId: 8, cc: \\\"note\\\", note: \\\"Q\\\"},\\n    41: {padId: 9, cc: \\\"note\\\", note: \\\"W\\\"},\\n    42: {padId: 10, cc: \\\"note\\\", note: \\\"E\\\"},\\n    43: {padId: 11, cc: \\\"note\\\", note: \\\"R\\\"},\\n    44: {padId: 4, cc: \\\"note\\\", note: \\\"G#2\\\"},\\n    45: {padId: 5, cc: \\\"note\\\", note: \\\"A2\\\"},\\n    46: {padId: 6, cc: \\\"note\\\", note: \\\"Bb2\\\"},\\n    47: {padId: 7, cc: \\\"note\\\", note: \\\"B2\\\"},\\n    48: {padId: 0, cc: \\\"note\\\", note: \\\"C3\\\"},\\n    49: {padId: 1, cc: \\\"note\\\", note: \\\"C#3\\\"},\\n    50: {padId: 2, cc: \\\"note\\\", note: \\\"D3\\\"},\\n    51: {padId: 3, cc: \\\"note\\\", note: \\\"D#3\\\"},\\n}\\n\",\"import React, {useContext, useEffect} from 'react';\\nimport {SET_MIDI_INPUTS} from '../../reducers/types'; \\nimport {updateEditorData, handlePadTrigger} from '../../actions'\\nimport {Context} from '../../contexts/SamplerContext';\\nimport Colors from '../../Config/ColorScheme';\\nimport '../Controls/Controls.css';\\nimport midiMap from '../../Config/midiMap';\\n\\nexport default (props) => {\\n    let context = useContext(Context);\\n    const renderSelectOptions = () => {\\n        if(!context.midiInputs) return \\n        else return context.midiInputs.map(input => {\\n            return <option key={input.id} id={input.id}>{input.name}</option>\\n        })\\n    }\\n    const renderMidiDeviceSelector = () => {\\n        if(!context.midiInputs) return <span className=\\\"disable-text-select\\\" role=\\\"img\\\" aria-label=\\\"no midi\\\">🚫🎹</span>\\n        return(\\n            <select className=\\\"ctl-select\\\" style={{color: Colors.white}}>\\n                {renderSelectOptions()}\\n            </select>\\n        )\\n    }\\n    const addMidiListeners = () => {\\n        context.midiInputs.forEach(input => {\\n            input.onmidimessage = (e) => {\\n                // console.log(e);\\n                let cmd = e.data[0];\\n                let note = e.data[1];\\n                let velocity = e.data[2];\\n                if(!midiMap[note]) return\\n                if(midiMap[note].cc === \\\"note\\\" && cmd - context.midiChannel === 144){\\n                    handlePadTrigger(context, midiMap[note].padId, velocity)\\n                }\\n                if(midiMap[note].cc === \\\"gain\\\"){\\n                    let gain = Math.pow(velocity, 2) / Math.pow(127, 2);\\n                    updateEditorData({context, cmd: \\\"gain\\\", val: gain});\\n                }\\n                if(midiMap[note].cc === \\\"detune\\\"){\\n                    let detune = Math.round(Math.pow(velocity, 2) / Math.pow(127, 2) * Math.pow(10, 3));\\n                    updateEditorData({context, cmd: \\\"detune\\\", val: detune});\\n                }\\n                if(midiMap[note].cc === \\\"sampleStart\\\"){\\n                    let sourceAvailable = context.gridPadsArr[context.selectedPad].source\\n                    if(!sourceAvailable || !sourceAvailable.buffer) return\\n                    let start = Math.pow(velocity, 2) / Math.pow(127, 2) * sourceAvailable.buffer.duration\\n                    updateEditorData({context, cmd: \\\"start\\\", val: start});\\n                }\\n                if(midiMap[note].cc === \\\"sampleEnd\\\"){\\n                    let sourceAvailable = context.gridPadsArr[context.selectedPad].source\\n                    if(!sourceAvailable || !sourceAvailable.buffer) return\\n                    let end = Math.pow(velocity, 2) / Math.pow(127, 2) * sourceAvailable.buffer.duration\\n                    updateEditorData({context, cmd: \\\"end\\\", val: end});\\n                }\\n            }\\n        });\\n    }\\n    const setMidiInputs = (midiInputs) => {\\n        context.dispatch({type: SET_MIDI_INPUTS, payload: {midiInputs}})\\n    }\\n    const getMidiDevices = () => {\\n        navigator.requestMIDIAccess()\\n        .then((access) => {\\n            let inputs = access.inputs.entries().next().value;\\n            // let outputs = access.outputs;\\n            access.onstatechange = (e) => {\\n                console.log(e.port.name, e.port.manufacturer, e.port.state);\\n            } \\n            let filteredInputs = inputs.filter(input => typeof(input) === \\\"object\\\")\\n            setMidiInputs(filteredInputs);\\n        })\\n        .catch(err => {\\n            setMidiInputs(null);\\n        })\\n    }\\n\\n    useEffect(() => {\\n        if(context.midiEnabled || !context.midiInputs) getMidiDevices();\\n        if(!context.midiInputs) return\\n            \\n    }, []);\\n    if(context.midiInputs) addMidiListeners()\\n    return (\\n        <div className=\\\"ctl-select-wrapper\\\">\\n            {renderMidiDeviceSelector()}\\n        </div>\\n    )\\n}\",\"import React, {useContext} from 'react';\\nimport {TOGGLE_REC_MODE, CLEAR_SELECTED_PAD, TOGGLE_EDIT_MODE} from '../../reducers/types';\\nimport {updateSources} from '../../actions'\\nimport './Controls.css';\\nimport {Context} from '../../contexts/SamplerContext';\\nimport MidiControls from '../MidiControls/MidiControls';\\n\\nconst Controls = (props) => {\\n    const context = useContext(Context);\\n    let currentPad = context.gridPadsArr[context.selectedPad];\\n    const validateSelectedFile = (file) => {\\n        if(!file) return console.log(\\\"No file...\\\")\\n        let ext = file.name.split('.')[1]\\n        let validExt = /mp3|wav|m4a/.test(ext)\\n        if(!validExt) return console.error(\\\"Unable to load selected file\\\")\\n        return updateSources(context, file)\\n    }\\n    const toggleRecMode = () => {\\n        let recMode = !context.recMode\\n        context.dispatch({type: TOGGLE_REC_MODE, payload: {recMode}})\\n    }\\n    const toggleEditMode = () => {\\n        let editMode = !context.editMode;\\n        let recMode = false;\\n        context.dispatch({type: TOGGLE_EDIT_MODE, payload: {editMode, recMode} });\\n    }\\n    const clearSelectedPad = () => {\\n        let sources = {...context.sources}\\n        sources[context.selectedPad] = {buffer: null, name: \\\"\\\", isPlaying: false}\\n        let gridPadsArr = [...context.gridPadsArr];\\n        gridPadsArr[context.selectedPad].source = null\\n        context.dispatch({type: CLEAR_SELECTED_PAD, payload: {sources, gridPadsArr}})\\n    }\\n    const renderRecButton = () => {\\n        if(context.editMode && currentPad && !currentPad.source){\\n            if(!context.recMode){\\n                return(\\n                    <div className=\\\"file-selector-wrapper\\\">\\n                        <button\\n                        onClick={() => { toggleRecMode() }}\\n                        className=\\\"ctl-btn\\\"\\n                        >REC</button>\\n                    </div>\\n                )\\n            } else {\\n                return(\\n                    <div className=\\\"file-selector-wrapper\\\">\\n                        <button\\n                        onClick={() => { toggleRecMode() }}\\n                        className=\\\"ctl-btn\\\"\\n                        >EDIT</button>\\n                    </div>\\n                )\\n            }\\n            \\n        }\\n    }\\n    const renderFileUpload = () => {\\n        const openFileSelector = (e) => {\\n            e.preventDefault();\\n            let fileSelector = document.getElementById(\\\"fileSelector\\\");\\n            fileSelector.click();\\n        }\\n        return (\\n            <div className=\\\"file-selector-wrapper\\\">\\n                <button \\n                className=\\\"ctl-btn\\\" \\n                onClick={(e) => openFileSelector(e)}>LOAD</button>\\n                <input \\n                type=\\\"file\\\" \\n                style={{display:\\\"none\\\"}}\\n                id=\\\"fileSelector\\\"\\n                onChange={(e) => validateSelectedFile(e.target.files[0])} \\n                accept=\\\"audio/*\\\" multiple={false}/>\\n            </div>    \\n        )\\n    }\\n    const renderSourceLoadUnload = () => {\\n        if(context.editMode && currentPad && !currentPad.source) return renderFileUpload();\\n        if(context.editMode && currentPad && currentPad.source) {\\n            return <button className=\\\"ctl-btn\\\" onClick={() => clearSelectedPad()}>UNLOAD</button>\\n        }\\n        if(context.editMode && currentPad && !currentPad.source) return renderFileUpload()\\n    }\\n    const renderMidiControls = () => {\\n        if(!context.midiEnabled) return\\n        return <MidiControls />\\n    }\\n    \\n    return (\\n        <div className=\\\"controls-wrapper\\\">\\n            <button \\n            className=\\\"ctl-btn\\\" \\n            onClick={() => toggleEditMode()}>{props.editToggleText}</button>\\n            {renderSourceLoadUnload()}\\n            {renderRecButton()}\\n            {renderMidiControls()}\\n        </div>\\n    )\\n}\\n\\nexport default Controls\",\"import React, {useContext} from 'react';\\nimport {Context} from '../../contexts/SamplerContext';\\nimport './Hud.css';\\nimport Colors from '../../Config/ColorScheme';\\nimport WaveformDisplay from '../WaveformDisplay/WaveformDisplay';\\nimport Controls from '../Controls/Controls';\\n\\nexport default () => {\\n    const context = useContext(Context);\\n    let editToggleText = context.editMode ? '◀️' : '⚙️';\\n    return(\\n        <div className=\\\"hud-wrapper\\\" style={{backgroundColor: Colors.lightblue, color: Colors.white}}>\\n            <WaveformDisplay />\\n            <Controls editToggleText={editToggleText}/>\\n        </div>\\n    )\\n}\\n\",\"import React, {useContext} from 'react';\\nimport {updateEditorData} from '../../actions'\\nimport {Context} from '../../contexts/SamplerContext';\\nimport Colors from '../../Config/ColorScheme';\\nimport './PadEditorItem.css';\\n\\nlet style = { \\n    background: Colors.gray, \\n    color: Colors.white, \\n    width: \\\"90%\\\", \\n    textAlign: \\\"center\\\",\\n    border: `1px solid ${Colors.white}`,\\n    display: \\\"grid\\\",\\n    gridTemplateRows: \\\"1fr 1fr\\\",\\n    gridTemplateColumns: \\\"90%\\\",\\n    justifyContent: \\\"center\\\",\\n    margin: \\\"1vh auto\\\",\\n}\\n\\nexport default (props) => {\\n    const context = useContext(Context)\\n    return (\\n        <div className=\\\"pad-item-wrapper\\\" style={style}>\\n            <label htmlFor={props.label} \\n            className=\\\"pad-item-label pad-text\\\" \\n            style={{width: \\\"100%\\\", margin:\\\"auto\\\"}}>{props.label.toUpperCase()}: {Math.floor(props.value * 100) / 100}</label>\\n            <input \\n            type=\\\"range\\\" \\n            min={0} \\n            max={props.max} \\n            value={props.value} \\n            name={props.label} \\n            step={props.step}\\n            id={props.label}\\n            onChange={(e) => { updateEditorData({context, cmd: props.label, val: e.target.value})}}/>\\n        </div>\\n    )\\n}\",\"import React, {useContext} from 'react';\\nimport {updateEditorData} from '../../actions'\\nimport {Context} from '../../contexts/SamplerContext';\\nimport Colors from '../../Config/ColorScheme';\\nimport './PadEditorButtons.css';\\n\\nlet style = { \\n    background: Colors.gray, \\n    color: Colors.white, \\n    width: \\\"90%\\\", \\n    textAlign: \\\"center\\\",\\n    border: `1px solid ${Colors.white}`,\\n    display: \\\"grid\\\",\\n    gridTemplateRows: \\\"1fr\\\",\\n    gridTemplateColumns: \\\"1fr 1fr\\\",\\n    justifyContent: \\\"center\\\",\\n    margin: \\\"1vh auto\\\"\\n}\\n\\nexport default ({cmd1, cmd2, content1, content2, val1, val2}) => {\\n    const context = useContext(Context)\\n    return (\\n        <div className=\\\"pad-item-wrapper\\\" style={style}>\\n            <button\\n            className=\\\"editor-btn\\\"\\n            id=\\\"prev\\\"\\n            onClick={(e) => { updateEditorData({context, cmd: cmd1, val: val1})}}>\\n            {content1}\\n            </button>\\n            <button\\n            className=\\\"editor-btn\\\"\\n            id=\\\"next\\\"\\n            onClick={(e) => { updateEditorData({context, cmd: cmd2, val: val2})}}>\\n            {content2}\\n            </button>\\n        </div>\\n    )\\n}\",\"import React, {useContext} from 'react';\\nimport {updateEditorData} from '../../actions'\\nimport {Context} from '../../contexts/SamplerContext';\\nimport Colors from '../../Config/ColorScheme';\\nimport './PadEditorButtons.css';\\n\\n\\nlet style = { \\n    background: Colors.gray, \\n    color: Colors.red, \\n    width: \\\"90%\\\", \\n    textAlign: \\\"center\\\",\\n    border: `1px solid ${Colors.white}`,\\n    display: \\\"grid\\\",\\n    gridTemplateRows: \\\"1fr\\\",\\n    gridTemplateColumns: \\\"1fr\\\",\\n    justifyContent: \\\"center\\\",\\n    margin: \\\"1vh auto\\\"\\n}\\n\\nexport default ({cmd, content}) => {\\n    const context = useContext(Context)\\n    return (\\n        <div className=\\\"pad-item-wrapper\\\" style={style}>\\n            <button\\n            className=\\\"editor-btn btn-play\\\"\\n            id=\\\"next\\\"\\n            onClick={(e) => { updateEditorData({context, cmd: cmd})}}\\n            >\\n            {content}\\n            </button>\\n        </div>\\n    )\\n}\",\"import React, {useContext} from 'react';\\nimport {TOGGLE_IS_RECORDING} from '../../reducers/types';\\nimport {Context} from '../../contexts/SamplerContext';\\nimport {updateSources} from '../../actions'\\nimport Colors from '../../Config/ColorScheme';\\nimport './PadEditorButtons.css';\\n\\nlet recorder = null;\\nlet recordedChunks = [];\\nlet style = { \\n    background: Colors.gray, \\n    color: Colors.red, \\n    width: \\\"90%\\\", \\n    textAlign: \\\"center\\\",\\n    border: `1px solid ${Colors.white}`,\\n    display: \\\"grid\\\",\\n    gridTemplateRows: \\\"1fr\\\",\\n    gridTemplateColumns: \\\"1fr\\\",\\n    justifyContent: \\\"center\\\",\\n    margin: \\\"1vh auto\\\"\\n}\\n\\nexport default () => {\\n    const context = useContext(Context);\\n    const toggleIsRecording = (monitor) => {\\n        let isRecording = !context.isRecording\\n        context.dispatch({type: TOGGLE_IS_RECORDING, payload: { isRecording, monitor }});\\n    }\\n    \\n    const startRecording = () => {\\n        navigator.mediaDevices.getUserMedia({audio: true, video: false})\\n            .then(stream => {\\n                let monitorStream = stream.clone()\\n                let monSource = context.ctx.createMediaStreamSource(monitorStream);\\n                monSource.connect(context.ctx.destination);\\n                let recSource = context.ctx.createMediaStreamSource(stream);\\n                let recDestination = context.ctx.createMediaStreamDestination();\\n                recSource.connect(recDestination);\\n                recorder = new MediaRecorder(recDestination.stream);\\n                recorder.start()\\n                recorder.onstop = () => {\\n                    let recordedBlob = new Blob(recordedChunks, { 'type' : 'audio/ogg; codecs=opus' });\\n                    recordedBlob.name = \\\"sample record\\\";\\n                    recordedChunks = [];\\n                    recorder = null;\\n                    updateSources(context, recordedBlob)\\n                    let monitorTracks = monitorStream.getAudioTracks();\\n                    monitorTracks.forEach(track => track.stop());\\n                    let recTracks = stream.getAudioTracks();\\n                    recTracks.forEach(track => track.stop());\\n                }\\n                recorder.ondataavailable  = (e) => {\\n                    recordedChunks.push(e.data);\\n                }\\n                toggleIsRecording(monSource);\\n            })\\n            .catch(err => console.log(err))\\n    }\\n    const stopRecording = () => {\\n        recorder.stop();\\n        context.monitor.disconnect();\\n        toggleIsRecording(null);\\n    }\\n    const renderButtonContent = () => {\\n        if(!context.isRecording){\\n            return <button className=\\\"editor-btn btn-play\\\" id=\\\"rec\\\" onClick={(e) => { startRecording() }}>REC</button>\\n        }\\n        return (\\n            <button \\n            style={{backgroundColor: Colors.red }} \\n            className=\\\"editor-btn btn-play\\\" \\n            id=\\\"rec\\\" \\n            onClick={(e) => { stopRecording() }}\\n            >\\n            STOP\\n            </button>\\n        )\\n    }\\n    return (\\n        <div className=\\\"pad-item-wrapper\\\" style={style}>\\n            {renderButtonContent()}\\n        </div>\\n    )\\n}\",\"import React, {useContext} from 'react';\\nimport {Context} from '../../contexts/SamplerContext';\\nimport Colors from '../../Config/ColorScheme';\\nimport './PadEditorButtons.css';\\nimport {TOGGLE_DIRECT_MONITOR} from '../../reducers/types';\\nlet style = { \\n    background: Colors.gray, \\n    color: Colors.red, \\n    width: \\\"90%\\\", \\n    textAlign: \\\"center\\\",\\n    border: `1px solid ${Colors.white}`,\\n    display: \\\"grid\\\",\\n    gridTemplateRows: \\\"1fr\\\",\\n    gridTemplateColumns: \\\"1fr\\\",\\n    justifyContent: \\\"center\\\",\\n    margin: \\\"1vh auto\\\"\\n}\\n\\nexport default () => {\\n    const context = useContext(Context);\\n    const renderButtonContent = () => {\\n        let content = context.isMonitoring ? \\\"MUTE\\\" : \\\"MON\\\";\\n        return content;\\n    }\\n    const toggleDirectMonitor = () => {\\n        if(!context.monitor) return;\\n        let isMonitoring = !context.isMonitoring\\n        if(isMonitoring){\\n            context.monitor.connect(context.ctx.destination);\\n        } else {\\n            context.monitor.disconnect();\\n        }\\n        context.dispatch({type: TOGGLE_DIRECT_MONITOR, payload: {isMonitoring}});\\n    }    \\n    return (\\n        <div className=\\\"pad-item-wrapper\\\" style={style}>\\n            <button className=\\\"editor-btn\\\" id=\\\"monitor\\\" onClick={(e) => { toggleDirectMonitor()}}>\\n                {renderButtonContent()}\\n            </button>\\n        </div>\\n    )\\n}\",\"import React, {useContext} from 'react';\\nimport {updateEditorData} from '../../actions'\\nimport {Context} from '../../contexts/SamplerContext';\\nimport Colors from '../../Config/ColorScheme';\\n\\nlet style = { \\n    background: Colors.gray,\\n    color: Colors.red, \\n    width: \\\"90%\\\", \\n    textAlign: \\\"center\\\",\\n    border: `1px solid ${Colors.white}`,\\n    display: \\\"grid\\\",\\n    gridTemplateRows: \\\"1fr\\\",\\n    gridTemplateColumns: \\\"1fr\\\",\\n    justifyContent: \\\"center\\\",\\n    margin: \\\"1vh auto\\\"\\n}\\n\\nexport default (props) => {\\n    const context = useContext(Context);\\n    const renderColorItem = () => {\\n        let colorNames = Object.keys(Colors);\\n        return colorNames.map((color) => {\\n            return (\\n                <option id={color} key={color} style={{backgroundColor: Colors[color], color: Colors[color]}}>{color}</option>\\n            )\\n        })\\n    }\\n    const updatePadColor = (color) => {\\n        updateEditorData({context, cmd: \\\"color\\\", val: color})\\n    }\\n    return (\\n        <div className=\\\"pad-item-wrapper\\\" style={style}>\\n            <select \\n            onChange={(e) => {updatePadColor(e.currentTarget.selectedOptions[0].id)}}\\n            style={{backgroundColor: context.gridPadsArr[context.selectedPad].color, textAlign: \\\"center\\\"}}>\\n                <option id=\\\"current\\\" key=\\\"current\\\" style={{backgroundColor: context.gridPadsArr[context.selectedPad].color}}>Current</option>\\n                {renderColorItem()}\\n            </select>\\n        </div>\\n    )\\n}\",\"import React, {useContext} from 'react';\\nimport {Context} from '../../contexts/SamplerContext';\\nimport EditorItemRange from '../PadEditorItem/EditorItemRange';\\nimport EditorItemButtons from '../PadEditorItem/EditorItemButtons';\\nimport EditorItemButton from '../PadEditorItem/EditorItemButton';\\nimport RecordButton from '../PadEditorItem/RecordButton';\\nimport MonitorButton from '../PadEditorItem/MonitorButton';\\nimport ColorSelector from '../ColorSelector/ColorSelector';\\n\\nimport './PadEditor.css';\\n\\nexport default () => {\\n    const context = useContext(Context);\\n    let selectedPad = context.gridPadsArr[context.selectedPad];\\n    let max = 0;\\n    let source = context.gridPadsArr[context.selectedPad].source;\\n    if(source && source.buffer ){\\n        max = source.buffer.duration;\\n    }\\n    if(context.recMode){\\n        return (\\n            <div className=\\\"editor-wrapper\\\">\\n                <EditorItemButtons cmd1=\\\"prev\\\" cmd2=\\\"next\\\" content1=\\\"◄\\\" content2=\\\"►\\\" val1={-1} val2={1} />\\n                <EditorItemButton cmd=\\\"play\\\" content=\\\"►\\\" />\\n                <RecordButton />\\n                <MonitorButton />\\n            </div>\\n        )\\n    } else {\\n        return(\\n            <div className=\\\"editor-wrapper\\\">\\n                <EditorItemButtons cmd1=\\\"prev\\\" cmd2=\\\"next\\\" content1=\\\"◄\\\" content2=\\\"►\\\" val1={-1} val2={1} />\\n                <EditorItemButton cmd=\\\"play\\\" content=\\\"►\\\" />\\n                <EditorItemRange label=\\\"start\\\" value={selectedPad.sampleStart} max={max} step={0.001} />\\n                <EditorItemRange label=\\\"end\\\" value={selectedPad.sampleEnd} max={max} step={0.001} />\\n                <EditorItemRange label=\\\"gain\\\" value={context.gridPadsArr[context.selectedPad].currentGain} max={1} step={0.01} />\\n                <EditorItemRange label=\\\"detune\\\" value={context.gridPadsArr[context.selectedPad].detune} step={25} min={0} max={1000} />\\n                <ColorSelector />\\n                <EditorItemRange label=\\\"placeholder3\\\" value={0} />\\n            </div>\\n        )\\n    }\\n}\\n\\n\",\"export default {\\n    0: {hold: false},\\n    1: {hold: false},\\n    2: {hold: false},\\n    3: {hold: false},\\n    4: {hold: false},\\n    5: {hold: false},\\n    6: {hold: false},\\n    7: {hold: false},\\n    8: {hold: false},\\n    9: {hold: false},\\n    10: {hold: false},\\n    11: {hold: false},\\n    12: {hold: false},\\n    13: {hold: false},\\n    14: {hold: false},\\n    15: {hold: false},\\n}\",\"import React, {useContext} from 'react';\\nimport {Context} from '../../contexts/SamplerContext';\\nimport {handlePadTrigger} from '../../actions'\\nimport Colors from '../../Config/ColorScheme';\\nimport touchCTRL from '../../Config/touchControls';\\nimport './Pad.css';\\n\\nexport default (props) => {\\n    const context = useContext(Context);\\n    let currentPad = context.gridPadsArr[props.id]\\n    let borderColor = currentPad.source ? currentPad.color : Colors.gray;\\n    let color = props.id === context.selectedPad ? currentPad.color : Colors.black;\\n    const handleTouchStart = (padId) => {\\n        if(!touchCTRL[padId].hold){\\n            touchCTRL[padId].hold = true;\\n            handlePadTrigger(context, padId);\\n        }\\n    }\\n    const handleTouchEnd = (padId) => {\\n        touchCTRL[padId].hold = false;\\n    }\\n    const handleMouseClick = (padId) => {\\n        if(!context.touchEnabled){\\n            handlePadTrigger(context, padId)\\n        }\\n    }\\n    return (\\n      <React.Fragment>\\n\\n    <div\\n    className=\\\"pad\\\"\\n    id={props.id}\\n    style={{\\n        backgroundColor: color,\\n        color: Colors.white,\\n        transition: \\\"0.25s linear\\\",\\n    }}\\n    onClick={() => {handleMouseClick(props.id)}}\\n    onDoubleClick={(e) => e.preventDefault()}\\n    onTouchStart={(e) => {handleTouchStart(props.id, e)}}\\n    onTouchEnd={(e) => {handleTouchEnd(props.id, e)}}\\n    >\\n    <span className=\\\"pad-text\\\">{props.midiNote}</span>\\n    </div>\\n\\n    </React.Fragment>\\n  );\\n}\\n\",\"import React, {useContext, useEffect} from 'react';\\nimport {Context} from '../../contexts/SamplerContext';\\nimport * as types from '../../reducers/types';\\nimport GridPad from '../../contexts/Config/PadGrid';\\nimport Colors from '../../Config/ColorScheme';\\nimport Hud from '../Hud/Hud';\\nimport PadEditor from '../PadEditor/PadEditor';\\nimport Pad from '../Pad/Pad';\\nimport midiMap from '../../Config/midiMap';\\nimport './SamplerGrid.css';\\n\\nconst SamplerGrid = () => {\\n    const context = useContext(Context);\\n    const gridArr = context.gridPadsArr;\\n    const renderPad = (item) => {\\n        let backgroundColor = Colors.black\\n        let source = context.sources[item.id];\\n        const midiNote = midiMap[item.id + 36].note;\\n        if(!context.editMode && source && source.buffer) backgroundColor = context.gridPadsArr[context.selectedPad].color;\\n        if(context.editMode && source && source.buffer) backgroundColor = Colors.green;\\n        return <Pad\\n        midiNote={midiNote}\\n        key={item.id}\\n        id={item.id}\\n        name={item.name}\\n        backgroundColor={backgroundColor}\\n        />\\n    }\\n    const rendercontent = () => {\\n        if(!context.editMode) return <div>{gridArr.map((item) => { return renderPad(item) })}</div>\\n        return <PadEditor />\\n    }\\n    const testForTouchDevice = () => {\\n        return 'ontouchstart' in window;\\n    }\\n    const testForMidiAPI = () => {\\n        return \\\"requestMIDIAccess\\\" in navigator;\\n    }\\n    const generateGrid = () => {\\n        let midiEnabled = testForMidiAPI();\\n        let touchEnabled = testForTouchDevice();\\n        let gridPadsArr = [];\\n        for(let i = 0; i < context.numPads; i++){\\n            let newPad = new GridPad({id: i})\\n            gridPadsArr.push(newPad)\\n        }\\n        let payload = {gridPadsArr, touchEnabled, midiEnabled}\\n        context.dispatch({ type: types.GENERATE_GRID, payload })\\n    }\\n    useEffect(() => {\\n        if(context.gridPadsArr.length < 1) generateGrid();\\n    }, []);\\n    return (\\n        <div\\n        className=\\\"grid-wrapper\\\"\\n        \\n        >\\n        <Hud />\\n            <div className=\\\"grid\\\">\\n                {rendercontent()}\\n            </div>\\n        </div>\\n    )\\n}\\n\\nexport default SamplerGrid\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport {SamplerContextStore} from './contexts/SamplerContext';\\nimport App from './components/App/App';\\n\\n// const path = require(\\\"path\\\");\\n// const express = require('express');\\n// const app = express();\\n//\\n// const server = require(\\\"http\\\").Server(app);\\n//\\n// app.use(express.static(\\\"public\\\"));\\n\\nReactDOM.render(\\n    <SamplerContextStore>\\n      <App />\\n    </SamplerContextStore>,\\n    document.getElementById('root')\\n  );\\n\\n  // server.listen(8080, function() {\\n  //     console.log(\\\"I'm listening.\\\");\\n  // });\\n\",\"import React, { useContext } from \\\"react\\\";\\nimport { Context } from \\\"../../contexts/SamplerContext\\\";\\nimport { handlePadTrigger } from \\\"../../actions\\\";\\nimport keyCTRL from \\\"../../Config/keyboardControls\\\";\\nimport StartScreen from '../StartScreen/StartScreen';\\nimport SamplerGrid from \\\"../SamplerGrid/SamplerGrid\\\";\\nimport \\\"./App.css\\\";\\n\\nexport default function App() {\\n  const context = useContext(Context);\\n  const renderAppContent = () => {\\n      if(!context.ctx) return <StartScreen />\\n    return (\\n      <div className=\\\"app-wrapper\\\">\\n        <SamplerGrid />\\n      </div>\\n    );\\n  };\\n  const handleKeyDown = e => {\\n    e.preventDefault();\\n    e.stopPropagation();\\n    let keyTrigger = keyCTRL[e.which];\\n    if (keyTrigger && !keyTrigger.hold && !e.repeat) {\\n      keyCTRL[e.which].hold = true;\\n      handlePadTrigger(context, keyTrigger.padId);\\n    }\\n  };\\n  const handleKeyUp = e => {\\n    e.preventDefault();\\n    e.stopPropagation();\\n    let keyTrigger = keyCTRL[e.which];\\n    if (keyTrigger && keyTrigger.hold) {\\n      keyCTRL[e.which].hold = false;\\n    }\\n  };\\n  return (\\n    <React.Fragment>\\n      <div id=\\\"body-wrapper\\\">\\n        <header></header>\\n        <div className=\\\"box\\\"></div>\\n\\n        <div className=\\\"video-wrapper\\\">\\n          <iframe\\n            className=\\\"video\\\"\\n            src=\\\"https://www.youtube.com/embed/vFNbj8KI0Rc?start=3&controls=0&showinfo=0&loop=1&modestbranding=1\\\"\\n            frameborder=\\\"0\\\"\\n            allow=\\\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture;\\\"\\n          ></iframe>\\n        </div>\\n\\n        <iframe\\n          className=\\\"music-player\\\"\\n          src=\\\"https://bandcamp.com/EmbeddedPlayer/album=3937120203/size=large/bgcol=ffffff/linkcol=333333/tracklist=false/transparent=true/\\\"\\n          seamless\\n        >\\n          <a href=\\\"http://algernoncornelius.bandcamp.com/album/in2trumentals\\\">\\n            In2trumentals by Algernon Cornelius\\n          </a>\\n        </iframe>\\n\\n        <div\\n          className=\\\"mpc-wrapper\\\"\\n          onKeyDown={e => {\\n            handleKeyDown(e);\\n          }}\\n          onKeyUp={e => {\\n            handleKeyUp(e);\\n          }}\\n          tabIndex=\\\"0\\\"\\n        >\\n          {renderAppContent()}\\n        </div>\\n      </div>\\n    </React.Fragment>\\n  );\\n}\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,t,a){},,,,function(e,t,a){},,,,,function(e,t,a){e.exports=a(26)},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),c=a(7),l=a.n(c),o=a(1),d=a(3),i=function(e,t){var a=t.type,n=t.payload;switch(a){case\"UPDATE_EDITOR_DATA\":case\"CLEAR_SELECTED_PAD\":case\"HANDLE_PAD_STOP\":case\"UPDATE_SOURCES\":case\"HANDLE_PAD_TRIGGER\":case\"TOGGLE_REC_MODE\":case\"TOGGLE_IS_RECORDING\":case\"TOGGLE_DIRECT_MONITOR\":case\"GENERATE_GRID\":case\"SET_MIDI_INPUTS\":case\"CREATE_ANALYSER\":return Object(o.a)({},e,n);default:return e}},s={touchEnabled:!1,midiEnabled:!1,midiInputs:null,midiChannel:10,ctx:null,numPads:8,banks:4,currentbank:1,gridPadsArr:[],editMode:!1,sources:{},selectedPad:0,analyser:null,recMode:!1,isRecording:!1,isMonitoring:!0,recorder:null,monitor:null},u=r.a.createContext();var m=a(4),p=a.n(m),f=a(8),E={gray:\"#8E8D92\",white:\"#F2EDEA\",black:\"#8091A3\",brown:\"#593E2F\",green:\"#0BAB76\",red:\"#F5627A\",yellow:\"#FFAA00\",purple:\"#EF7782\",blue:\"#3c3e42\",lightblue:\"#38A8CE\",lightorange:\"#FF6000\",orange:\"#FF3800\"},h=function(){var e=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.ctx?null:new(window.AudioContext||window.webkitAudioContext),g(t,a);case 2:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),g=function(e,t){var a=t.createAnalyser();a.connect(t.destination),e.dispatch({type:\"CREATE_ANALYSER\",payload:{ctx:t,analyser:a}})},v=function(e,t){var a=new FileReader;a.onload=function(a){e.ctx.decodeAudioData(a.target.result,function(a){var n=Object(o.a)({},e.sources),r=t.name.split(\".\")[0],c=a.getChannelData(0);n[e.selectedPad]={buffer:a,name:r,isPlaying:!1,waveformData:c};var l=e.gridPadsArr,d=e.ctx.createBufferSource();d.buffer=a,l[e.selectedPad].source=d,l[e.selectedPad].source.start(),l[e.selectedPad].sampleEnd=a.duration,l[e.selectedPad].gainNode=e.ctx.createGain(),l[e.selectedPad].gainNode.connect(e.ctx.destination),e.dispatch({type:\"UPDATE_SOURCES\",payload:{sources:n,gridPadsArr:l}})})},a.readAsArrayBuffer(t)},b=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:127,n=e.sources[t],r=t;if(n&&n.buffer){e.gridPadsArr[t].source&&e.gridPadsArr[t].selfMuted&&e.gridPadsArr[t].source.stop();var c=e.gridPadsArr,l=e.ctx.createBufferSource();l.buffer=e.sources[t].buffer,c[t].source=l,c[t].isPlaying=!0,e.selectedPad!==t&&e.dispatch({type:\"HANDLE_PAD_TRIGGER\",payload:{gridPadsArr:c,selectedPad:r}}),l.connect(e.gridPadsArr[t].gainNode),l.detune.value=e.gridPadsArr[t].detune;var o=127!==a?Math.pow(a,2)/Math.pow(127,2):e.gridPadsArr[t].currentGain;e.gridPadsArr[t].gainNode.gain.setValueAtTime(o,e.ctx.currentTime),e.gridPadsArr[t].source.start(e.ctx.currentTime,e.gridPadsArr[t].sampleStart,e.gridPadsArr[t].sampleEnd),e.gridPadsArr[t].source.stop(e.ctx.currentTime+e.gridPadsArr[t].sampleEnd)}else e.selectedPad!==t&&e.dispatch({type:\"HANDLE_PAD_TRIGGER\",payload:{selectedPad:r}})},P=function(e){var t=e.context,a=e.cmd,n=e.val,r=t.gridPadsArr,c=t.selectedPad;if(\"start\"===a){if(n>=r[t.selectedPad].sampleEnd)return;r[t.selectedPad].sampleStart=Number(n)}if(\"end\"===a){if(n<=r[t.selectedPad].sampleStart)return;r[t.selectedPad].sampleEnd=Number(n)}\"gain\"===a&&(r[t.selectedPad].currentGain=n),\"detune\"===a&&\"Current\"!==n&&(r[t.selectedPad].detune=n),\"prev\"===a&&(c=t.selectedPad+n<0?t.gridPadsArr.length-1:t.selectedPad+n),\"next\"===a&&(c=t.selectedPad+n>t.gridPadsArr.length-1?0:t.selectedPad+n),\"play\"===a&&b(t,t.selectedPad),\"stop\"===a&&function(e,t,a){e.gridPadsArr[t].source&&e.gridPadsArr[t].selfMuted&&(e.gridPadsArr[t].source.stop(),e.gridPadsArr[t].isPlaying=!1,e.dispatch({type:\"HANDLE_PAD_STOP\",payload:{gridPadsArr:a}}))}(t.selectedPad,r),\"color\"===a&&(r[t.selectedPad].color=E[n]);var l={gridPadsArr:r,selectedPad:c};t.dispatch({type:\"UPDATE_EDITOR_DATA\",payload:l})},y={49:{padId:0,hold:!1},50:{padId:1,hold:!1},51:{padId:2,hold:!1},52:{padId:3,hold:!1},81:{padId:4,hold:!1},87:{padId:5,hold:!1},69:{padId:6,hold:!1},82:{padId:7,hold:!1},65:{padId:8,hold:!1},83:{padId:9,hold:!1},68:{padId:10,hold:!1},70:{padId:11,hold:!1},90:{padId:12,hold:!1},88:{padId:13,hold:!1},67:{padId:14,hold:!1},86:{padId:15,hold:!1}},A=(a(19),function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)(function(){\"serviceWorker\"in navigator&&window.addEventListener(\"beforeinstallprompt\",function(e){e.preventDefault(),c(e)})},[]);var l=function(){a.prompt(),a.userChoice.then(function(e){\"accepted\"===e.outcome&&c(null)})};return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(\"button\",{className:\"btn\",onClick:l},\"USE AS APP\"):null)}),w=function(){var e=Object(n.useContext)(u);return r.a.createElement(\"div\",{className:\"start-wrapper\",style:{backgroundColor:E.blue,color:E.black}},r.a.createElement(\"div\",{className:\"content-container\"},r.a.createElement(\"div\",{style:{backgroundColor:E.white,padding:\"1vh 2vw\"}},r.a.createElement(\"h1\",null,\"REACT SAMPLER \",r.a.createElement(\"br\",null),\" with Web Audio API\"),window.matchMedia('(\"display-mode: standalone\")').matches?null:r.a.createElement(A,null),window.AudioContext?r.a.createElement(\"div\",null,r.a.createElement(\"div\",{className:\"start-info\"},r.a.createElement(\"p\",null,r.a.createElement(\"strong\",null,\"LOAD:\"),\" WAV/MP3 files\"),r.a.createElement(\"p\",null,r.a.createElement(\"strong\",null,\"RECORD:\"),\" from default input\"),r.a.createElement(\"p\",null,\"Basic \",r.a.createElement(\"strong\",null,\"MIDI SUPPORT:\"),\" on Chromium based browsers\"),r.a.createElement(\"p\",null,r.a.createElement(\"strong\",null,\"KEYBOARD CONTROLS:\")),r.a.createElement(\"ul\",{style:{listStyle:\"none\"}},r.a.createElement(\"li\",null,\"1 - 4\"),r.a.createElement(\"li\",null,\"Q - R\"),r.a.createElement(\"li\",null,\"A - F\"),r.a.createElement(\"li\",null,\"Z - V\")),r.a.createElement(\"p\",null,\"New features incoming soon...\")),r.a.createElement(\"button\",{className:\"btn\",onClick:function(){h(e)}},\"START\")):r.a.createElement(\"div\",null,r.a.createElement(\"div\",{className:\"start-info\"},r.a.createElement(\"p\",null,\"Sorry, Your browser doesn't support Web Audio :(\"))),r.a.createElement(\"div\",null,r.a.createElement(\"h4\",null,r.a.createElement(\"a\",{className:\"start-links\",href:\"https://github.com/CannonFodderr/Sampler\",target:\"__blank\"},\"Fork me on GitHub\"),\" Made with \",r.a.createElement(\"span\",{style:{color:E.red,fontSize:\"1.3rem\"}},\"\\u2665\"),\" by \",r.a.createElement(\"a\",{className:\"start-links\",href:\"https://idanprofile.herokuapp.com/profile/1/projects\"},\"Idan Izhaki\"))))))},C=a(9),x=function e(t){var a=t.id;Object(C.a)(this,e),this.id=a,this.isLoaded=!1,this.name=\"Pad\".concat(a),this.gainNode=null,this.source=null,this.color=E.purple,this.isPlaying=!1,this.selfMuted=!0,this.sampleStart=0,this.currentGain=1,this.detune=0,this.sampleEnd=this.sampleStart,this.midiCC=null,this.midiNote=null},I=(a(20),function(){var e=Object(n.useContext)(u),t=Object(n.useRef)(null);Object(n.useEffect)(function(){!function(){var a=t.current,n=a.getContext(\"2d\");n.clearRect(0,0,a.width,a.height);var r=e.sources[e.selectedPad];if(r&&r.waveformData){var c=r.waveformData,l=Math.ceil(c.length/a.width),o=a.height/2;n.fillStyle=E.white;for(var d=0;d<a.width;d++){for(var i=1,s=-1,u=0;u<l;u++){var m=c[d*l+u];m<i&&(i=m),m>s&&(s=m)}n.fillRect(d,(1+i)*o,1,Math.max(1,(s-i)*o))}}}()});var a=e.sources[e.selectedPad]?e.sources[e.selectedPad]:\"Empty\",c=e.isRecording?E.red:E.blue;return r.a.createElement(\"div\",null,r.a.createElement(\"canvas\",{id:\"waveformDisplay\",ref:t,style:{backgroundColor:c,width:\"100%\",height:\"9vh\",position:\"absolute\",left:0}}),r.a.createElement(\"h4\",{draggable:!1,style:{position:\"relative\",top:0,margin:\"1vh 0vw\"},className:\"pad-name disable-text-select\"},e.selectedPad+1,\" : \",a.name))}),N=a(10),T=(a(6),{5:{padId:null,cc:\"sampleStart\"},6:{padId:null,cc:\"sampleEnd\"},7:{padId:null,cc:\"gain\"},8:{padId:null,cc:\"detune\"},36:{padId:12,cc:\"note\",note:\"1\"},37:{padId:13,cc:\"note\",note:\"2\"},38:{padId:14,cc:\"note\",note:\"3\"},39:{padId:15,cc:\"note\",note:\"4\"},40:{padId:8,cc:\"note\",note:\"Q\"},41:{padId:9,cc:\"note\",note:\"W\"},42:{padId:10,cc:\"note\",note:\"E\"},43:{padId:11,cc:\"note\",note:\"R\"},44:{padId:4,cc:\"note\",note:\"G#2\"},45:{padId:5,cc:\"note\",note:\"A2\"},46:{padId:6,cc:\"note\",note:\"Bb2\"},47:{padId:7,cc:\"note\",note:\"B2\"},48:{padId:0,cc:\"note\",note:\"C3\"},49:{padId:1,cc:\"note\",note:\"C#3\"},50:{padId:2,cc:\"note\",note:\"D3\"},51:{padId:3,cc:\"note\",note:\"D#3\"}}),O=function(e){var t=Object(n.useContext)(u),a=function(e){t.dispatch({type:\"SET_MIDI_INPUTS\",payload:{midiInputs:e}})};return Object(n.useEffect)(function(){!t.midiEnabled&&t.midiInputs||navigator.requestMIDIAccess().then(function(e){var t=e.inputs.entries().next().value;e.onstatechange=function(e){console.log(e.port.name,e.port.manufacturer,e.port.state)};var n=t.filter(function(e){return\"object\"===typeof e});a(n)}).catch(function(e){a(null)}),t.midiInputs},[]),t.midiInputs&&t.midiInputs.forEach(function(e){e.onmidimessage=function(e){var a=e.data[0],n=e.data[1],r=e.data[2];if(T[n]){if(\"note\"===T[n].cc&&a-t.midiChannel===144&&b(t,T[n].padId,r),\"gain\"===T[n].cc){var c=Math.pow(r,2)/Math.pow(127,2);P({context:t,cmd:\"gain\",val:c})}if(\"detune\"===T[n].cc){var l=Math.round(Math.pow(r,2)/Math.pow(127,2)*Math.pow(10,3));P({context:t,cmd:\"detune\",val:l})}if(\"sampleStart\"===T[n].cc){var o=t.gridPadsArr[t.selectedPad].source;if(!o||!o.buffer)return;var d=Math.pow(r,2)/Math.pow(127,2)*o.buffer.duration;P({context:t,cmd:\"start\",val:d})}if(\"sampleEnd\"===T[n].cc){var i=t.gridPadsArr[t.selectedPad].source;if(!i||!i.buffer)return;var s=Math.pow(r,2)/Math.pow(127,2)*i.buffer.duration;P({context:t,cmd:\"end\",val:s})}}}}),r.a.createElement(\"div\",{className:\"ctl-select-wrapper\"},t.midiInputs?r.a.createElement(\"select\",{className:\"ctl-select\",style:{color:E.white}},t.midiInputs?t.midiInputs.map(function(e){return r.a.createElement(\"option\",{key:e.id,id:e.id},e.name)}):void 0):r.a.createElement(\"span\",{className:\"disable-text-select\",role:\"img\",\"aria-label\":\"no midi\"},\"\\ud83d\\udeab\\ud83c\\udfb9\"))},D=function(e){var t=Object(n.useContext)(u),a=t.gridPadsArr[t.selectedPad],c=function(){var e=!t.recMode;t.dispatch({type:\"TOGGLE_REC_MODE\",payload:{recMode:e}})},l=function(){return r.a.createElement(\"div\",{className:\"file-selector-wrapper\"},r.a.createElement(\"button\",{className:\"ctl-btn\",onClick:function(e){return function(e){e.preventDefault(),document.getElementById(\"fileSelector\").click()}(e)}},\"LOAD\"),r.a.createElement(\"input\",{type:\"file\",style:{display:\"none\"},id:\"fileSelector\",onChange:function(e){return function(e){if(!e)return console.log(\"No file...\");var a=e.name.split(\".\")[1];return/mp3|wav|m4a/.test(a)?v(t,e):console.error(\"Unable to load selected file\")}(e.target.files[0])},accept:\"audio/*\",multiple:!1}))};return r.a.createElement(\"div\",{className:\"controls-wrapper\"},r.a.createElement(\"button\",{className:\"ctl-btn\",onClick:function(){return function(){var e=!t.editMode;t.dispatch({type:\"TOGGLE_REC_MODE\",payload:{editMode:e,recMode:!1}})}()}},e.editToggleText),t.editMode&&a&&!a.source?l():t.editMode&&a&&a.source?r.a.createElement(\"button\",{className:\"ctl-btn\",onClick:function(){return function(){var e=Object(o.a)({},t.sources);e[t.selectedPad]={buffer:null,name:\"\",isPlaying:!1};var a=Object(N.a)(t.gridPadsArr);a[t.selectedPad].source=null,t.dispatch({type:\"CLEAR_SELECTED_PAD\",payload:{sources:e,gridPadsArr:a}})}()}},\"UNLOAD\"):t.editMode&&a&&!a.source?l():void 0,function(){if(t.editMode&&a&&!a.source)return t.recMode?r.a.createElement(\"div\",{className:\"file-selector-wrapper\"},r.a.createElement(\"button\",{onClick:function(){c()},className:\"ctl-btn\"},\"EDIT\")):r.a.createElement(\"div\",{className:\"file-selector-wrapper\"},r.a.createElement(\"button\",{onClick:function(){c()},className:\"ctl-btn\"},\"REC\"))}(),function(){if(t.midiEnabled)return r.a.createElement(O,null)}())},R=function(){var e=Object(n.useContext)(u).editMode?\"\\u25c0\\ufe0f\":\"\\u2699\\ufe0f\";return r.a.createElement(\"div\",{className:\"hud-wrapper\",style:{backgroundColor:E.lightblue,color:E.white}},r.a.createElement(I,null),r.a.createElement(D,{editToggleText:e}))},M=(a(21),{background:E.gray,color:E.white,width:\"90%\",textAlign:\"center\",border:\"1px solid \".concat(E.white),display:\"grid\",gridTemplateRows:\"1fr 1fr\",gridTemplateColumns:\"90%\",justifyContent:\"center\",margin:\"1vh auto\"}),k=function(e){var t=Object(n.useContext)(u);return r.a.createElement(\"div\",{className:\"pad-item-wrapper\",style:M},r.a.createElement(\"label\",{htmlFor:e.label,className:\"pad-item-label pad-text\",style:{width:\"100%\",margin:\"auto\"}},e.label.toUpperCase(),\": \",Math.floor(100*e.value)/100),r.a.createElement(\"input\",{type:\"range\",min:0,max:e.max,value:e.value,name:e.label,step:e.step,id:e.label,onChange:function(a){P({context:t,cmd:e.label,val:a.target.value})}}))},S=(a(2),{background:E.gray,color:E.white,width:\"90%\",textAlign:\"center\",border:\"1px solid \".concat(E.white),display:\"grid\",gridTemplateRows:\"1fr\",gridTemplateColumns:\"1fr 1fr\",justifyContent:\"center\",margin:\"1vh auto\"}),_=function(e){var t=e.cmd1,a=e.cmd2,c=e.content1,l=e.content2,o=e.val1,d=e.val2,i=Object(n.useContext)(u);return r.a.createElement(\"div\",{className:\"pad-item-wrapper\",style:S},r.a.createElement(\"button\",{className:\"editor-btn\",id:\"prev\",onClick:function(e){P({context:i,cmd:t,val:o})}},c),r.a.createElement(\"button\",{className:\"editor-btn\",id:\"next\",onClick:function(e){P({context:i,cmd:a,val:d})}},l))},j={background:E.gray,color:E.red,width:\"90%\",textAlign:\"center\",border:\"1px solid \".concat(E.white),display:\"grid\",gridTemplateRows:\"1fr\",gridTemplateColumns:\"1fr\",justifyContent:\"center\",margin:\"1vh auto\"},G=function(e){var t=e.cmd,a=e.content,c=Object(n.useContext)(u);return r.a.createElement(\"div\",{className:\"pad-item-wrapper\",style:j},r.a.createElement(\"button\",{className:\"editor-btn btn-play\",id:\"next\",onClick:function(e){P({context:c,cmd:t})}},a))},L=null,F=[],U={background:E.gray,color:E.red,width:\"90%\",textAlign:\"center\",border:\"1px solid \".concat(E.white),display:\"grid\",gridTemplateRows:\"1fr\",gridTemplateColumns:\"1fr\",justifyContent:\"center\",margin:\"1vh auto\"},B=function(){var e=Object(n.useContext)(u),t=function(t){var a=!e.isRecording;e.dispatch({type:\"TOGGLE_IS_RECORDING\",payload:{isRecording:a,monitor:t}})};return r.a.createElement(\"div\",{className:\"pad-item-wrapper\",style:U},e.isRecording?r.a.createElement(\"button\",{style:{backgroundColor:E.red},className:\"editor-btn btn-play\",id:\"rec\",onClick:function(a){L.stop(),e.monitor.disconnect(),t(null)}},\"STOP\"):r.a.createElement(\"button\",{className:\"editor-btn btn-play\",id:\"rec\",onClick:function(a){navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(a){var n=a.clone(),r=e.ctx.createMediaStreamSource(n);r.connect(e.ctx.destination);var c=e.ctx.createMediaStreamSource(a),l=e.ctx.createMediaStreamDestination();c.connect(l),(L=new MediaRecorder(l.stream)).start(),L.onstop=function(){var t=new Blob(F,{type:\"audio/ogg; codecs=opus\"});t.name=\"sample record\",F=[],L=null,v(e,t),n.getAudioTracks().forEach(function(e){return e.stop()}),a.getAudioTracks().forEach(function(e){return e.stop()})},L.ondataavailable=function(e){F.push(e.data)},t(r)}).catch(function(e){return console.log(e)})}},\"REC\"))},H={background:E.gray,color:E.red,width:\"90%\",textAlign:\"center\",border:\"1px solid \".concat(E.white),display:\"grid\",gridTemplateRows:\"1fr\",gridTemplateColumns:\"1fr\",justifyContent:\"center\",margin:\"1vh auto\"},W=function(){var e=Object(n.useContext)(u);return r.a.createElement(\"div\",{className:\"pad-item-wrapper\",style:H},r.a.createElement(\"button\",{className:\"editor-btn\",id:\"monitor\",onClick:function(t){!function(){if(e.monitor){var t=!e.isMonitoring;t?e.monitor.connect(e.ctx.destination):e.monitor.disconnect(),e.dispatch({type:\"TOGGLE_DIRECT_MONITOR\",payload:{isMonitoring:t}})}}()}},e.isMonitoring?\"MUTE\":\"MON\"))},K={background:E.gray,color:E.red,width:\"90%\",textAlign:\"center\",border:\"1px solid \".concat(E.white),display:\"grid\",gridTemplateRows:\"1fr\",gridTemplateColumns:\"1fr\",justifyContent:\"center\",margin:\"1vh auto\"},Y=function(e){var t=Object(n.useContext)(u);return r.a.createElement(\"div\",{className:\"pad-item-wrapper\",style:K},r.a.createElement(\"select\",{onChange:function(e){var a;a=e.currentTarget.selectedOptions[0].id,P({context:t,cmd:\"color\",val:a})},style:{backgroundColor:t.gridPadsArr[t.selectedPad].color,textAlign:\"center\"}},r.a.createElement(\"option\",{id:\"current\",key:\"current\",style:{backgroundColor:t.gridPadsArr[t.selectedPad].color}},\"Current\"),Object.keys(E).map(function(e){return r.a.createElement(\"option\",{id:e,key:e,style:{backgroundColor:E[e],color:E[e]}},e)})))},z=(a(22),function(){var e=Object(n.useContext)(u),t=e.gridPadsArr[e.selectedPad],a=0,c=e.gridPadsArr[e.selectedPad].source;return c&&c.buffer&&(a=c.buffer.duration),e.recMode?r.a.createElement(\"div\",{className:\"editor-wrapper\"},r.a.createElement(_,{cmd1:\"prev\",cmd2:\"next\",content1:\"\\u25c4\",content2:\"\\u25ba\",val1:-1,val2:1}),r.a.createElement(G,{cmd:\"play\",content:\"\\u25ba\"}),r.a.createElement(B,null),r.a.createElement(W,null)):r.a.createElement(\"div\",{className:\"editor-wrapper\"},r.a.createElement(_,{cmd1:\"prev\",cmd2:\"next\",content1:\"\\u25c4\",content2:\"\\u25ba\",val1:-1,val2:1}),r.a.createElement(G,{cmd:\"play\",content:\"\\u25ba\"}),r.a.createElement(k,{label:\"start\",value:t.sampleStart,max:a,step:.001}),r.a.createElement(k,{label:\"end\",value:t.sampleEnd,max:a,step:.001}),r.a.createElement(k,{label:\"gain\",value:e.gridPadsArr[e.selectedPad].currentGain,max:1,step:.01}),r.a.createElement(k,{label:\"detune\",value:e.gridPadsArr[e.selectedPad].detune,step:25,min:0,max:1e3}),r.a.createElement(Y,null),r.a.createElement(k,{label:\"placeholder3\",value:0}))}),V={0:{hold:!1},1:{hold:!1},2:{hold:!1},3:{hold:!1},4:{hold:!1},5:{hold:!1},6:{hold:!1},7:{hold:!1},8:{hold:!1},9:{hold:!1},10:{hold:!1},11:{hold:!1},12:{hold:!1},13:{hold:!1},14:{hold:!1},15:{hold:!1}},q=(a(23),function(e){var t=Object(n.useContext)(u),a=t.gridPadsArr[e.id],c=(a.source&&a.color,e.id===t.selectedPad?a.color:E.black);return r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{className:\"pad\",id:e.id,style:{backgroundColor:c,color:E.white,transition:\"0.25s linear\"},onClick:function(){var a;a=e.id,t.touchEnabled||b(t,a)},onDoubleClick:function(e){return e.preventDefault()},onTouchStart:function(a){var n;n=e.id,V[n].hold||(V[n].hold=!0,b(t,n))},onTouchEnd:function(t){var a;a=e.id,V[a].hold=!1}},r.a.createElement(\"span\",{className:\"pad-text\"},e.midiNote)))}),J=(a(24),function(){var e=Object(n.useContext)(u),t=e.gridPadsArr,a=function(){for(var t=(\"requestMIDIAccess\"in navigator),a=(\"ontouchstart\"in window),n=[],r=0;r<e.numPads;r++){var c=new x({id:r});n.push(c)}var l={gridPadsArr:n,touchEnabled:a,midiEnabled:t};e.dispatch({type:\"GENERATE_GRID\",payload:l})};return Object(n.useEffect)(function(){e.gridPadsArr.length<1&&a()},[]),r.a.createElement(\"div\",{className:\"grid-wrapper\"},r.a.createElement(R,null),r.a.createElement(\"div\",{className:\"grid\"},e.editMode?r.a.createElement(z,null):r.a.createElement(\"div\",null,t.map(function(t){return function(t){var a=E.black,n=e.sources[t.id],c=T[t.id+36].note;return!e.editMode&&n&&n.buffer&&(a=e.gridPadsArr[e.selectedPad].color),e.editMode&&n&&n.buffer&&(a=E.green),r.a.createElement(q,{midiNote:c,key:t.id,id:t.id,name:t.name,backgroundColor:a})}(t)}))))});a(25);l.a.render(r.a.createElement(function(e){var t=Object(n.useReducer)(i,s),a=Object(d.a)(t,2),c=a[0],l=a[1];return r.a.createElement(u.Provider,{value:Object(o.a)({},c,{dispatch:l})},e.children)},null,r.a.createElement(function(){var e=Object(n.useContext)(u);return r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{id:\"body-wrapper\"},r.a.createElement(\"header\",null),r.a.createElement(\"div\",{className:\"box\"}),r.a.createElement(\"div\",{className:\"video-wrapper\"},r.a.createElement(\"iframe\",{className:\"video\",src:\"https://www.youtube.com/embed/vFNbj8KI0Rc?start=3&controls=0&showinfo=0&loop=1&modestbranding=1\",frameborder:\"0\",allow:\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture;\"})),r.a.createElement(\"iframe\",{className:\"music-player\",src:\"https://bandcamp.com/EmbeddedPlayer/album=3937120203/size=large/bgcol=ffffff/linkcol=333333/tracklist=false/transparent=true/\",seamless:!0},r.a.createElement(\"a\",{href:\"http://algernoncornelius.bandcamp.com/album/in2trumentals\"},\"In2trumentals by Algernon Cornelius\")),r.a.createElement(\"div\",{className:\"mpc-wrapper\",onKeyDown:function(t){!function(t){t.preventDefault(),t.stopPropagation();var a=y[t.which];!a||a.hold||t.repeat||(y[t.which].hold=!0,b(e,a.padId))}(t)},onKeyUp:function(e){!function(e){e.preventDefault(),e.stopPropagation();var t=y[e.which];t&&t.hold&&(y[e.which].hold=!1)}(e)},tabIndex:\"0\"},e.ctx?r.a.createElement(\"div\",{className:\"app-wrapper\"},r.a.createElement(J,null)):r.a.createElement(w,null))))},null)),document.getElementById(\"root\"))}],[[11,1,2]]]);","extractedComments":[]}